webpackJsonp([1],{NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App",metaInfo:{title:"è´ªåƒè›‡ğŸ",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"},{name:"renderer",content:"webkit|ie-stand|ie-comp"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"},{name:"format-detection",content:"telephone=no,email=no"},{name:"msapplication-tap-highlight",content:"no"},{name:"flexible",content:"initial-dpr=2,maximum-dpr=3"},{name:"screen-orientation",content:"portrait"},{name:"x5-orientation",content:"portrait"},{name:"full-screen",content:"yes"},{name:"x5-fullscreen",content:"true"},{name:"browsermode",content:"application"},{name:"x5-page-mode",content:"app"}]}},s,!1,function(t){i("STgf")},null,null).exports,o=i("/ocq"),r=i("//Fk"),c=i.n(r),h=i("rxKx"),u=i.n(h),d={data:function(){return{isShowPop:!1,showCountdown:!1,countdown:3,remainTB:0,remainLR:0,rowNumber:0,columnNumber:0,mapLists:[],x:0,y:0,scoreCount:0,eggX:0,eggY:0,direction:"up",changeDir:!0,moveTimer:null,snake:[],snakeLen:3,speed:300}},computed:{getScoreCount:function(){return 10*this.scoreCount},dirClassName:function(){switch(this.direction){case"up":return"";case"down":return"rotate180";case"left":return"rotate270";case"right":return"rotate90"}}},methods:{setMapData:function(){for(var t=0;t<this.rowNumber;t++){for(var e={key:t,colList:[]},i=0;i<this.columnNumber;i++){var n={key:t+"-"+i,isEgg:!1};this.$set(e.colList,i,n)}this.$set(this.mapLists,t,e)}},random:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},createNewEgg:function(){this.eggX=this.random(0,this.rowNumber-1),this.eggY=this.random(0,this.columnNumber-1),this.snake.indexOf(this.mapLists[this.eggX].colList[this.eggY].key)>-1||this.mapLists[this.eggX].colList[this.eggY].isEgg?this.createNewEgg():this.mapLists[this.eggX].colList[this.eggY].isEgg=!0},compCoordinate:function(t,e,i){var n=e,s=i;switch(t){case"left":--s;break;case"right":++s;break;case"up":--n;break;case"down":++n;break;default:return}return{x:n,y:s}},snakeMove:function(){switch(this.direction){case"left":--this.y;break;case"right":++this.y;break;case"up":--this.x;break;case"down":++this.x}return this.x<0||this.y<0||this.x>=this.rowNumber||this.y>=this.columnNumber?(this.isShowPop=!0,void clearInterval(this.moveTimer)):this.snake.indexOf(this.mapLists[this.x].colList[this.y].key)>-1?(this.isShowPop=!0,void clearInterval(this.moveTimer)):(this.eggX===this.x&&this.eggY===this.y&&(this.mapLists[this.x].colList[this.y].isEgg=!1,++this.scoreCount,++this.snakeLen,this.createNewEgg()),this.snake.unshift(this.mapLists[this.x].colList[this.y].key),void(this.snakeLen<this.snake.length&&this.snake.pop()))},setDirection:function(t){var e=this;if((this.changeDir||t)&&!("right"===this.direction&&"left"===t||"left"===this.direction&&"right"===t||"up"===this.direction&&"down"===t||"down"===this.direction&&"up"===t)){var i=this.compCoordinate(t,this.x,this.y);1!==this.snake.indexOf(i.x+"-"+i.y)&&(this.direction=t,this.changeDir=!1,setTimeout(function(){e.changeDir=!0},30))}},init:function(){var t=0;for(this.x=this.random(this.snakeLen,this.rowNumber-this.snakeLen),this.y=this.random(this.snakeLen,this.columnNumber-this.snakeLen);t<this.snakeLen;)this.snake.push(this.mapLists[t+this.x].colList[this.y].key),++t;this.createNewEgg()},eventInit:function(){var t=this;document.onkeydown=function(e){switch((e=e||e.event).keyCode){case 37:t.setDirection("left");break;case 38:t.setDirection("up");break;case 39:t.setDirection("right");break;case 40:t.setDirection("down")}};var e=new u.a(this.$refs.wrap);e.get("swipe").set({direction:u.a.DIRECTION_ALL}),e.on("swipeleft",function(e){t.setDirection("left")}).on("swiperight",function(e){t.setDirection("right")}).on("swipeup",function(e){t.setDirection("up")}).on("swipedown",function(e){t.setDirection("down")})},computeNum:function(){this.remainTB=window.innerHeight%20/2,this.remainLR=window.innerWidth%20/2,this.rowNumber=(window.innerHeight-window.innerHeight%20)/20,this.columnNumber=(window.innerWidth-window.innerWidth%20)/20},startGame:function(){var t=this;return new c.a(function(e,i){t.showCountdown=!0;var n=setInterval(function(){t.countdown>1?--t.countdown:(t.showCountdown=!1,clearInterval(n),e())},1e3)}).then(function(){setTimeout(function(){t.countdown=3},500)})},reStart:function(){location.reload()},musicPlay:function(){var t=this;this.$refs.bgm.play(),document.addEventListener("WeixinJSBridgeReady",function(){t.$refs.bgm.play()},!1),document.addEventListener("touchstart",function(){t.$refs.bgm.play()})}},watch:{scoreCount:function(t,e){t>e&&t%5==0&&this.speed>50&&(this.speed-=50,clearInterval(this.moveTimer),this.moveTimer=setInterval(this.snakeMove,this.speed))}},created:function(){this.computeNum(),this.setMapData()},mounted:function(){var t=this;this.musicPlay(),this.init(),this.startGame().then(function(){t.eventInit(),t.moveTimer=setInterval(t.snakeMove,t.speed)})}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrap",staticClass:"wrap"},[n("div",{staticClass:"main"},[n("audio",{ref:"bgm",staticClass:"bgm",attrs:{autoplay:"",preload:"auto",loop:""}},[n("source",{attrs:{src:i("RtAu"),type:"audio/mpeg"}})]),t._v(" "),n("div",{staticClass:"map",style:{paddingTop:t.remainTB+"px",paddingBottom:t.remainTB+"px",paddingLeft:t.remainLR+"px",paddingRight:t.remainLR+"px"}},[t._l(t.mapLists,function(e){return n("div",{key:e.key,staticClass:"map-row"},t._l(e.colList,function(e){return n("div",{key:e.key,staticClass:"map-col"},[n("div",{staticClass:"snake-part",class:[{header:0===t.snake.indexOf(e.key),body:t.snake.indexOf(e.key)>-1&&0!==t.snake.indexOf(e.key)&&t.snake.indexOf(e.key)!==t.snake.length-1,footer:t.snake.indexOf(e.key)===t.snake.length-1,egg:e.isEgg},t.dirClassName]})])}))}),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCountdown,expression:"showCountdown"}],staticClass:"pop-ups"},[n("h1",{staticClass:"countdown-wrap__text"},[t._v(t._s(t.countdown))])])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPop,expression:"isShowPop"}],staticClass:"pop-ups"},[n("div",{staticClass:"pop-ups__content"},[n("p",{staticClass:"title"},[t._v("\n              æ¸¸æˆç»“æŸ\n            ")]),t._v(" "),n("p",{staticClass:"desc"},[t._v("æœ¬æ¬¡å¾—åˆ†ä¸ºï¼š"+t._s(t.getScoreCount))]),t._v(" "),n("img",{staticClass:"code-img",attrs:{src:i("d46q"),alt:""}}),t._v(" "),n("p",{staticClass:"desc f14"},[t._v("é•¿æŒ‰å…³æ³¨ä½œè€…å…¬ä¼—å·äº†è§£ä¸€ä¸‹")]),t._v(" "),n("p",{staticClass:"desc f14"},[t._v("ä½œè€…ï¼šé»„è•´å®‡")]),t._v(" "),n("p",{staticClass:"desc f14"},[t._v("å¹¿å·å¸‚å·¥è´¸æŠ€å¸ˆå­¦é™¢")]),t._v(" "),n("p",{staticClass:"desc f14"},[t._v("ç½‘ç«™ç»´æŠ¤ä¸å¼€å‘")]),t._v(" "),n("button",{staticClass:"reStart",attrs:{type:"button"},on:{click:t.reStart}},[t._v("\n              é‡æ–°å¼€å§‹\n            ")])])])])],2)])])},staticRenderFns:[]};var p=i("VU/8")(d,m,!1,function(t){i("Ufyx")},"data-v-c29df784",null).exports,l=i("p3jY"),f=i.n(l);n.a.use(o.a),n.a.use(f.a,{keyName:"metaInfo",attribute:"data-vue-meta",ssrAttribute:"data-vue-meta-server-rendered",tagIDKeyName:"vmid"});var g=new o.a({routes:[{path:"/",name:"Index",component:p}]});i("QKTF"),n.a.config.productionTip=!1,new n.a({el:"#app",router:g,components:{App:a},template:"<App/>"})},RtAu:function(t,e,i){t.exports=i.p+"static/media/bgm.3d93752.mp3"},STgf:function(t,e){},Ufyx:function(t,e){},d46q:function(t,e,i){t.exports=i.p+"static/img/code.19a8064.jpg"}},["NHnr"]);
//# sourceMappingURL=app.904fb164113e8b481272.js.map